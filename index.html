<html>
<body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="springy.js"></script>
<script src="springyui.js"></script>

<div id="main">
  <textarea id="ta"></textarea>
</div>
<canvas id="springydemo" width="640" height="480" />
<script>
jQuery(function($){
  
  $('#ta').on('change', function() {
    var graph = new Springy.Graph();
    var lines = $('#ta').val().split('\n');
    
    for (var i = 0; i<lines.length;i++) {
      var parts = lines[i].split(',');
      if (parts.length > 1 && parts[1] != 'End') {
        graph.addNodes('Page ' + parts[0]);
        for (var p = 1; p< parts.length;p++) {
          graph.addNodes('Page ' + parts[p]);
          graph.addEdges(['Page ' + parts[0], 'Page ' + parts[p]]);
        }
      }
    }
    
    var springy = jQuery('#springydemo').springy({
      graph: graph
    });
   
  })
   
});
</script>
</body>
</html>
