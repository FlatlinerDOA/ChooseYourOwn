<html>
<body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="springy.js"></script>
<script src="springyui.js"></script>

<div id="main">
  <textarea id="ta">
1,2
2,8
3,11,32
4,65
5,14
6,56
8,3
9,46,108
11,37
12,22
13,30
14,36
16,17
17,23
19,42
20,106
21,62
22,73
23,110
24,58,115
26,27
27,111
28,67
30,76,96
31,103
32,33
33,19,63
35,118
36,59
37,99
38,39
39,48
41,End
42,13,68
43,End
44,End
45,6
46,101,43
48,117
49,55
51,31,82
52,97
53,105
55,9
56,57
57,12,100
58,End
59,End
60,End
62,45
63,70
65,102,44
66,38
67,End
68,26
70,78
71,5,87
73,End
74,75
75,21,112
76,End
78,104
79,16
81,End
82,4
83,20,89
84,90
86,94
87,84
89,66
90,52,109
91,79
92,93
93,24,86
94,End
96,60
97,83
99,49,71
100,End
101,92
102,35
103,End
104,End
105,81
106,114
108,91
109,51
110,End
111,28,41
112,53
114,End
115,74
117,End
118,End
  </textarea>
</div>
<canvas id="springydemo" width="1280" height="1024" />
<script>
jQuery(function($){
  var render = function() {
    var graph = new Springy.Graph();
    var lines = $('#ta').val().split('\n');
    
    for (var i = 0; i<lines.length;i++) {
      var parts = lines[i].split(',');
      if (parts.length > 1 && parts[1] != 'End') {
        graph.addNodes('Page ' + parts[0]);
        for (var p = 1; p< parts.length;p++) {
          graph.addNodes('Page ' + parts[p]);
          graph.addEdges(['Page ' + parts[0], 'Page ' + parts[p]]);
        }
      }
    }

    var springy = jQuery('#springydemo').springy({
      graph: graph
    });
  };
  
  $('#ta').on('change', render);
   
  render();    
});
</script>
</body>
</html>
